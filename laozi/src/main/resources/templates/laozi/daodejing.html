<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common::headbar('老子')}">
</head>
<body>
<style th:replace="~{common::background}"></style>
<div th:insert="~{common::topbar}"></div>

<nav>
    <a href="/index">首页</a>
    <a href="">成语</a>
    <a href="">作者</a>
    <a href="">文献</a>
    <a href="">时空间GIS</a>
    <a href="">知识图谱</a>
    <a href="/laozi/daodejing">老子</a>
</nav>
<nav>
    <a href="/laozi/daodejing">道德经</a>
    <a href="translation">译本</a>
    <a href="idiom">成语</a>
    <a href="statistics">统计</a>
</nav>
<div class="div-left">
    <ul>
        <li>道经
            <ul id="dao_list">
            </ul>
        </li>
        <li>德经
            <ul id="de_list">
            </ul>
        </li>
    </ul>
</div>
<div class="div-right">
    <h>正文</h>
    <p id="original"></p>
    <h>译文</h>
    <select name="language" onchange="selectLanguage(this.value)">
        <option value="Translation">Chinese</option>
        <option value="Bulgarian">Bulgarian</option>
        <option value="Czech">Czech</option>
        <option value="Danish">Danish</option>
        <option value="Dutch">Dutch</option>
        <option value="English">English</option>
        <option value="Estonian">Estonian</option>
        <option value="Finnish">Finnish</option>
        <option value="French">French</option>
        <option value="German">German</option>
        <option value="Hebrew">Hebrew</option>
        <option value="Hungarian">Hungarian</option>
        <option value="Icelandic">Icelandic</option>
        <option value="Indonesian">Indonesian</option>
        <option value="Interlingua">Interlingua</option>
        <option value="Italian">Italian</option>
        <option value="Japanese">Japanese</option>
        <option value="Klingon">Klingon</option>
        <option value="Korean">Korean</option>
        <option value="Kurdish">Kurdish</option>
        <option value="Latvian">Latvian</option>
        <option value="Persian">Persian</option>
        <option value="Phoenician">Phoenician</option>
        <option value="Polish">Polish</option>
        <option value="Romanian">Romanian</option>
        <option value="Russian">Russian</option>
        <option value="Spanish">Spanish</option>
        <option value="Swedish">Swedish</option>
    </select>
    <p id="translation"></p>
    <h>注释</h>
    <p id="annotation"></p>
</div>

<div th:insert="~{common::footbar}"></div>
</body>
</html>

<script type="text/javascript">
    var daolist_str = "";
    for (i = 1; i <= 37; i++) {
        daolist_str += "<li><button onclick=\"selectChapter(" + i + ")\">第" + i + "章</button></li>";
        // daolist_str += "<li><button onclick=\"sayHello(" + i + ")\">第" + i + "章</button></li>";
    }
    document.getElementById("dao_list").innerHTML = daolist_str;

    var delist_str = ""
    for (i = 38; i <= 81; i++) {
        delist_str += "<li><button onclick=\"selectChapter(" + i + ")\">第" + i + "章</button></li>";
    }
    document.getElementById("de_list").innerHTML = delist_str;

    function selectChapter(chapter) {
        $.ajax({
            type: "post",
            url: "/laozi/daodejing",
            data: {chapter: chapter},
            success:function (result) {
                document.getElementById("original").innerHTML=result.original;
                document.getElementById("translation").innerHTML=result.translation;
                document.getElementById("annotation").innerHTML=result.annotation;
            },
            error:function(msg) {
                console.log(msg)
            }
        });
    }

    function selectLanguage(language){
        $.ajax({
            type: "post",
            url:"/laozi/selectLanguage",
            data:{language:language},
            success:function (result){
                document.getElementById("translation").innerHTML=result;
            }
        })
    }

    function  sayHello(chapter){
        document.getElementById("original").innerHTML="hello"+chapter;

    }
</script>